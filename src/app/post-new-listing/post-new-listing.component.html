<mat-card class="page">
  <!--<button mat-raised-button (click)="isLinear = !isLinear" id="toggle-linear">
    {{!isLinear ? 'Enable linear mode' : 'Disable linear mode'}}
  </button>-->
  <mat-vertical-stepper [linear]="isLinear" #stepper>
    <mat-step [stepControl]="modelGroup">
      <form [formGroup]="modelGroup" (submit)="onSubmit($event)">
        <ng-template matStepLabel>Model info</ng-template>
        <mat-form-field appearance="outline">
          <mat-label>Brand (Make)</mat-label>
          <input (submit)="onSubmit($event)" type="text" matInput [formControl]="brandControl" [matAutocomplete]="auto">
          <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayFn">
            <mat-option *ngFor="let option of filteredOptions | async" [value]="option">
              {{option.name}}
            </mat-option>
          </mat-autocomplete>
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Model name</mat-label>
          <input required matInput placeholder="Ex. Corolla" [formControl]="model" >
          <mat-hint>Ex. Corolla</mat-hint>
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Body Type</mat-label>
          <input required matInput placeholder="Ex. HatchBack" [formControl]="bodyType">
          <mat-hint>Ex. Sedan</mat-hint>
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Color</mat-label>
          <input required matInput placeholder="Ex. HatchBack" [formControl]="color">
          <mat-hint>Ex. green</mat-hint>
        </mat-form-field>
        <div>
          <button (click)="onSubmit($event)" mat-button matStepperNext>Next</button>
        </div>
      </form>
    </mat-step>
    <mat-step [stepControl]="ageGroup">
      <form [formGroup]="ageGroup" (click)="onSubmit($event)">
        <ng-template matStepLabel>Age and Price</ng-template>
        <mat-form-field appearance="outline">
          <mat-label>Release year</mat-label>
          <input matInput required type="number" placeholder="Ex. 2005" [formControl]="releaseYear">
          <mat-hint>Ex. 2005</mat-hint>
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Mileage (km)</mat-label>
          <input [formControl]="mileage" matInput required type="number" placeholder="Ex. 12000">
          <mat-hint>Mileage in kilometers</mat-hint>
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Price (â‚¬)</mat-label>
          <input [formControl]="price" matInput required type="number" placeholder="Ex. 10123">
          <mat-hint>Price in euros</mat-hint>
        </mat-form-field>
        <div>
          <button mat-button matStepperPrevious (click)="onSubmit($event)">Back</button>
          <button mat-button matStepperNext (click)="onSubmit($event)">Next</button>
        </div>
      </form>
    </mat-step>
    <mat-step [stepControl]="drivetrainGroup">
      <form [formGroup]="drivetrainGroup">
        <ng-template matStepLabel>Drivetrain</ng-template>
        <mat-form-field appearance="outline">
          <mat-label>Drivetype</mat-label>
          <mat-select required [formControl]="driveType">
            <mat-option value="rwd">Rear-Wheel drive</mat-option>
            <mat-option value="fwd">Front-Wheel drive</mat-option>
            <mat-option value="awd">All-Wheel drive</mat-option>
            <mat-option value="fwd">Four-Wheel drive</mat-option>
          </mat-select>
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Gearbox</mat-label>
          <mat-select required [formControl]="gearboxType">
            <mat-option value="manual">Manual</mat-option>
            <mat-option value="auto">Automatic</mat-option>
            <mat-option value="semi-auto">Semi-Automatic</mat-option>
            <mat-option value="dual-clutch">Dual clutch Automatic</mat-option>
          </mat-select>
        </mat-form-field>
        <div>
          <button mat-button matStepperPrevious (click)="onSubmit($event)">Back</button>
          <button mat-button matStepperNext (click)="onSubmit($event)">Next</button>
        </div>
      </form>
    </mat-step>
    <mat-step [stepControl]="engineGroup">
      <form [formGroup]="engineGroup">
        <ng-template matStepLabel>Engine</ng-template>
        <mat-form-field appearance="outline">
          <mat-label>Fuel Type</mat-label>
          <mat-select required [formControl]="fuelType">
            <mat-option value="petrol">Petrol</mat-option>
            <mat-option value="diesel">Diesel</mat-option>
            <mat-option value="electric">Electric</mat-option>
            <mat-option value="hybrid">Hybrid</mat-option>
            <mat-option value="lpg-cng">LPG or CNG</mat-option>
          </mat-select>
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>
            Power (kw)
          </mat-label>
          <input [formControl]="enginePower" matInput required type="number" placeholder="Ex. 110">
          <mat-hint>Engine power in kilowatts</mat-hint>
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>
            Engine size (l)
          </mat-label>
          <input  [formControl]="engineSize" matInput required type="number" placeholder="Ex. 2.0">
          <mat-hint>Ex 2.0</mat-hint>
        </mat-form-field>
        <div>
          <button mat-button matStepperPrevious (click)="onSubmit($event)">Back</button>
          <button mat-button matStepperNext (click)="onSubmit($event)">Next</button>
        </div>
      </form>
    </mat-step>
    <mat-step [stepControl]="informationGroup">
      <form [formGroup]="informationGroup">
        <ng-template matStepLabel>Additional information</ng-template>
        <mat-form-field appearance="outline">
          <mat-label>Listing description</mat-label>
          <textarea [formControl]="description" matInput matTextareaAutosize="true"></textarea>
          <mat-hint>Additional information and description of the listing</mat-hint>
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Sellers name</mat-label>
          <input [formControl]="ownerName" matInput required placeholder="Ex. Thomas">
          <mat-hint>Name of the seller</mat-hint>
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Sellers phone number</mat-label>
          <input [formControl]="ownerPhone" matInput required placeholder="Ex. 5678912">
          <mat-hint>Phone number of the seller</mat-hint>
        </mat-form-field>
        <br>
        <mat-form-field appearance="outline">
          <mat-label>Location</mat-label>
          <input [formControl]="location" matInput required placeholder="Ex. Tallinn">
          <mat-hint>Location</mat-hint>
        </mat-form-field>
        <div>
          <button mat-button matStepperPrevious (click)="onSubmit($event)">Back</button>
          <button mat-button matStepperNext (click)="onSubmit($event)">Next</button>
        </div>
      </form>
    </mat-step>
    <mat-step [stepControl]="imageGroup">
      <form [formGroup]="imageGroup">
        <ng-template matStepLabel>Images</ng-template>
        <mat-form-field appearance="outline">
          <mat-label>Image URL</mat-label>
          <input [formControl]="img1" matInput required type="url" placeholder="Ex. images.com/image.jpg">
          <mat-hint>Direct URL to the image</mat-hint>
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Image URL</mat-label>
          <input [formControl]="img2" matInput type="url" placeholder="Ex. images.com/image.jpg">
          <mat-hint>Direct URL to the image</mat-hint>
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Image URL</mat-label>
          <input [formControl]="img3" matInput type="url" placeholder="Ex. images.com/image.jpg">
          <mat-hint>Direct URL to the image</mat-hint>
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Image URL</mat-label>
          <input [formControl]="img4" matInput type="url" placeholder="Ex. images.com/image.jpg">
          <mat-hint>Direct URL to the image</mat-hint>
        </mat-form-field>
        <mat-card-actions>
          <button mat-button matStepperPrevious (click)="onSubmit($event)">Back</button>
          <button mat-button (click)="postListing(); onSubmit($event)">Save and publish</button>
        </mat-card-actions>
      </form>
    </mat-step>
  </mat-vertical-stepper>
</mat-card>
